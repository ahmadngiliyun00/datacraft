{% extends 'base.html' %} {% block content %}
<div class="container-xxl flex-grow-1 container-p-y">
	<div class="fw-bold mb-4">
		<span class="text-muted fw-light">DataCraft / </span>
		<span class="text-muted fw-light">Eksplorasi Data / </span>
		<span class="color-custom-secondary">{{ title }}</span>
	</div>
	{% with messages = get_flashed_messages(with_categories=true) %} {% if
	messages %} {% for category, message in messages %}
	<div
		class="alert alert-{{ category }} alert-dismissible fade show"
		role="alert">
		{{ message }}
		<button
			type="button"
			class="btn-close"
			data-bs-dismiss="alert"
			aria-label="Close"></button>
	</div>
	{% endfor %} {% endif %} {% endwith %}
	<div class="row">
		<div class="col-12 mb-4 order-0">
			<!-- Informasi Dataset -->
			<div class="card mb-4">
				<h5 class="card-header">Informasi Dataset</h5>
				<div class="card-body">
					<ul>
						<li><strong>Nama File:</strong> {{ selected_file }}</li>
						<li><strong>Dimensi Dataset:</strong> {{ data_shape }}</li>
					</ul>
				</div>
			</div>
			<!-- Menampilkan Data -->
			<div class="card mb-4">
				<h5 class="card-header">5 Data Teratas</h5>
				<div class="card-body">{{ data_head | safe }}</div>
			</div>
      <div class="card mb-4">
        <h5 class="card-header">Statistik Sentimen</h5>
        <div class="card-body">
            <ul>
                <li><strong>Positif:</strong> {{ sentiment_counts.get('positif', 0) }}</li>
                <li><strong>Negatif:</strong> {{ sentiment_counts.get('negatif', 0) }}</li>
                <li><strong>Netral:</strong> {{ sentiment_counts.get('netral', 0) }}</li>
            </ul>
          <img src="{{ distribution_path }}" alt="Distribusi Sentimen" class="img-fluid" draggable="false" />
        </div>
    </div>
    
			<!-- Visualisasi WordCloud -->
			{% if wordcloud_paths %}
			<div class="card mb-4">
				<h5 class="card-header">WordCloud Berdasarkan Sentimen</h5>
				<div class="card-body">
					<div class="row">
						{% if wordcloud_paths['positif'] %}
						<div class="col-md-4">
							<h6 class="text-center">Sentimen Positif</h6>
							<img
								src="{{ wordcloud_paths['positif'] }}"
								alt="WordCloud Positif"
								class="img-fluid"
								draggable="false" />
						</div>
						{% else %}
						<div class="col-md-4 text-center">
							<p class="text-muted">Tidak ada data untuk WordCloud Positif</p>
						</div>
						{% endif %} {% if wordcloud_paths['negatif'] %}
						<div class="col-md-4">
							<h6 class="text-center">Sentimen Negatif</h6>
							<img
								src="{{ wordcloud_paths['negatif'] }}"
								alt="WordCloud Negatif"
								class="img-fluid"
								draggable="false" />
						</div>
						{% else %}
						<div class="col-md-4 text-center">
							<p class="text-muted">Tidak ada data untuk WordCloud Negatif</p>
						</div>
						{% endif %} {% if wordcloud_paths['netral'] %}
						<div class="col-md-4">
							<h6 class="text-center">Sentimen Netral</h6>
							<img
								src="{{ wordcloud_paths['netral'] }}"
								alt="WordCloud Netral"
								class="img-fluid"
								draggable="false" />
						</div>
						{% else %}
						<div class="col-md-4 text-center">
							<p class="text-muted">Tidak ada data untuk WordCloud Netral</p>
						</div>
						{% endif %}
					</div>
				</div>
			</div>
			{% endif %}
			<div class="card mb-4">
				<h5 class="card-header">Custom Kata Positif dan Negatif</h5>
				<form
					method="POST"
					action="{{ url_for('label_dataset') }}">
					<div class="card-body">
						<div class="mb-3">
							<label
								for="custom_positive"
								class="form-label"
								>Kata Positif (pisahkan dengan koma)</label
							>
							<input
								type="text"
								class="form-control"
								id="custom_positive"
								name="custom_positive"
								placeholder="contoh: luar biasa, bahagia, ceria" />
						</div>
						<div class="mb-3">
							<label
								for="custom_negative"
								class="form-label"
								>Kata Negatif (pisahkan dengan koma)</label
							>
							<input
								type="text"
								class="form-control"
								id="custom_negative"
								name="custom_negative"
								placeholder="contoh: sedih, kecewa, buruk" />
						</div>
						<button
							type="submit"
							class="btn btn-primary">
							Terapkan Custom Kata
						</button>
					</div>
				</form>
			</div>
			<!-- Tombol Navigasi -->
			<div class="card">
				<div class="card-body">
					<div class="d-flex justify-content-between align-items-center">
						<div>
							<a
								href="{{ url_for('create_dataset') }}"
								class="btn btn-warning btn-sm">
								<i class="bx bx-arrow-back"></i>
								&nbsp; Buat Dataset
							</a>
						</div>
						<div>
							<a
								href="{{ download_link }}"
								class="btn btn-success btn-sm"
								download>
								<i class="bx bx-download"></i>
								&nbsp; Unduh Data
							</a>
							<a
								href="{{ url_for('label_encode') }}"
								class="btn btn-primary btn-sm">
								<i class="bx bx-cog"></i>
								&nbsp; Pelabelan Data
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
